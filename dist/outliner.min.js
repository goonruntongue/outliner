/*!
 * jQuery outliner Plugin v1.2.0
 * Make outlined text by cloning only text nodes (preserving existing HTML).
 *
 * MIT License
 * Copyright (c) 2025 YOUR_NAME
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to do so, subject to the
 * following conditions:
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */(function($){"use strict";var PLUGIN="outliner";var defaults={width:"4px",color:"#000000",};function applyStroke($clone,sw,sc){$clone.css({position:"absolute",top:0,left:0,transform:"none",zIndex:0,pointerEvents:"none",color:"transparent","-webkit-text-stroke":sw+" "+sc,"text-stroke":sw+" "+sc,whiteSpace:"pre-wrap",});}function styleWrap($wrap){$wrap.css({position:"relative",display:"inline-block",lineHeight:"inherit",verticalAlign:"baseline",zIndex:0,});$wrap.children(".original").css({position:"relative",zIndex:1,whiteSpace:"pre-wrap",});}function collectTextNodes($root){var SKIP_SELECTOR="script,style,textarea,noscript,code,pre,.outline-text,.original,.clone";var result=[];function walk(node){if(node.nodeType===1){if($(node).is(SKIP_SELECTOR))return;var children=node.childNodes;for(var i=0;i<children.length;i++){walk(children[i]);}return;}if(node.nodeType===3){var raw=node.nodeValue;if(!raw||!raw.replace(/\s+/g,"").length)return;var p=node.parentNode;if(p&&p.nodeType===1&&p.classList&&p.classList.contains("original"))return;result.push(node);}}$root.each(function(){walk(this);});return result;}function wrapOneTextNode(textNode){var raw=textNode.nodeValue;var $wrap=$('<span class="outline-text"></span>');var $orig=$('<span class="original"></span>');var $clone=$('<span class="clone" aria-hidden="true"></span>');$clone.text(raw);var parent=textNode.parentNode;parent.insertBefore($wrap[0],textNode);$orig.append(textNode);$wrap.append($orig,$clone);styleWrap($wrap);return $wrap;}function initialWrap($root){var nodes=collectTextNodes($root);for(var i=0;i<nodes.length;i++){wrapOneTextNode(nodes[i]);}}function updateClones($root,sw,sc){$root.find(".outline-text>.clone").each(function(){applyStroke($(this),sw,sc);});}$.fn[PLUGIN]=function(options){var opts=$.extend({},defaults,options||{});var sw=String(opts.width||defaults.width);var sc=String(opts.color||defaults.color);return this.each(function(){var $target=$(this);initialWrap($target);updateClones($target,sw,sc);});};})(jQuery);